<!DOCTYPE html>
<html>
	<head>
		<title>The Buyables</title>
		
		<style>
			#main {
				text-align: center;
				background-color: black;
				color: white;
			    position: absolute;
			    top: 0px;
			    bottom: 0px;
			    left: 0px;
			    right: 0px;
			    overflow: visible;
				font-weight: bold;
				font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
			}

			button {
				height: 100px;
			    width: 200px;
			    background-color: black;
			    border-width: 3px;
			    font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
			    color: white;
			    border-color: white;
			    border-radius: 1em;
				border-style: groove;
				overflow: scroll;
				vertical-align: top;
				margin-bottom: 4px;
			}

			#dev {
				border-color: blueviolet;
				color: violet;
			}
		</style>
		
		<!-- <link rel="stylesheet" href="style.css">

		<script src="JS/buyables.js"></script>
		<script src="JS/variables.js"></script>-->
	</head>
	<body>
		<div id="main">
			<p id="stuffCounter">You have 0 points</p>
			<p id="pPS">(+1)</p>
			<button class="one" type="button" onclick="B1()" id="B1"><b>Buyable 1;1</b><br> Cost: 5 points<br>Multiply Base Point Gain by 1.5</button>
			<button class="one" type="button" onclick="B2()" id="B2"><b>Buyable 1;2</b><br> Cost: 100 points<br>Divide Buyable 1;1 cost by 2</button>
			<button class="one" type="button" onclick="B3()" id="B3" ><b>Buyable 1;3</b><br> Cost: 360 points<br>The Buyable 1;1 cost scaling increases slower<br>Currently: x3.5</button>
			<br>
			<button class="two" type="button" onclick="B4()" id="B4"><b>Buyable 2;1</b><br> Cost: 500 points<br>Bring Point Gain to the power of 1.2</button>
			<button class="two" type="button" onclick="B5()" id="B5"><b>Buyable 2;2</b><br> Cost: 1000 points<br>Buyable 1;1 is 1.01x more effective</button>
			<button class="two" type="button" onclick="B6()" id="B6"><b>Buyable 2;3</b><br> Cost: N/A points<br>Divide Buyable 2;1 cost by 10</button>
			<br>
			<button id="dev" onclick="Dev()">Dev<br><i>Multiply current points by ten</i></button>
		</div>
		
		<script>


var points = 0;
var pointsD = 0;
var pPS = 1;
var pPSD = 1;
var pointsCap = 1e+10;

var B1_Cost = 5;
var B1_CostScale = 3.5;
var B1_CostD = B1_Cost;
var B1_Pow = 1.5;
var B1_TimesBought = 0;
var B2_Cost = 100;
var B2_CostD = B2_Cost;
var B2_TimesBought = 0;
var B3_Cost = 360;
var B3_CostD = B3_Cost;
var B4_Cost = 500;
var B4_CostD = B4_Cost;
var B4_TimesBought = 0;
var B5_Cost = 1000;
var B5_CostD = B5_Cost;
var B5_TimesBought = 0;
var B6_Cost = NaN;
var B6_CostD = NaN;

var points = document.getElementById("stuffCounter");
var B1_1 = document.getElementById("B1");
var	B1_2 = document.getElementById("B2");
var	B1_3 = document.getElementById("B3");
var B2_1 = document.getElementById("B4");
var B2_2 = document.getElementById("B5");
var B2_3 = document.getElementById("B6");
var ten = document.getElementById("dev");


var timer = setInterval(gameTick, 1000);

function gameTick() {
	points += pPS;
	if (points > pointsCap) {
		points = pointsCap;
	}

	pPSD = pPS;
	if (pPSD > 999999) {pPSD = pPS.toExponential(2);}

	pointsD = Math.floor(points);
	if (points > 999999) {pointsD = points.toExponential(2);}

	document.getElementById("stuffCounter").innerHTML = "You have " + points + " points"
	
	ten.style = "color: violet; border-color: blueviolet;" //aka "dev"

	color();
	secondPassed();
}

function color() {
	points.style = "color: green"
	B1_1.style = "border-color: white;"
	B1_2.style = "border-color: white;"
	B1_3.style = "border-color: lime; color: lime;"; if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "color: white;"}
	B2_1.style = "border-color: white;"
	B2_2.style = "border-color: white;"
	B2_3.style = "border-color: white;"

	if (points == pointsCap) {points.style = "color: red"}
	if (B1_Cost < points+1) {B1_1.style = "border-color: lime;"}
	if (B2_Cost < points+1) {B1_2.style = "border-color: lime;"}
	if (B3_Cost < points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: lime; color: white;"}
	if (B4_Cost < points+1) {B2_1.style = "border-color: lime;"}
	if (B5_Cost < points+1) {B2_2.style = "border-color: lime;"}
	if (B6_Cost < points+1) {B2_3.style = "border-color: lime;"}
}
			
function B1() {
	if (points > (B1_Cost - 1)) {
		B1_TimesBought += 1;
		points -= B1_Cost;

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}

		//pPS = Math.floor(pPS * B1_Pow);
		pPS = Math.floor(Math.pow(Math.pow(B1_Pow, B1_TimesBought), Math.pow(1.2, B4_TimesBought)));
		//pPS = Math.floor(Math.pow(B1_TimesBought, ((2 + (0.01 * B5_TimesBought)) * Math.pow(1.2, B4_TimesBought))))
		B1_Cost = 5 + Math.pow(B1_CostScale, B1_TimesBought)/(Math.pow(2, B2_TimesBought));
		B1_CostD = Math.floor(B1_Cost);
		if (B1_Cost > 999999) {
			B1_CostD = B1_Cost.toExponential(2);
		}
		document.getElementById("B1").innerHTML = "<b>Buyable 1;1</b><br> Cost: " + B1_CostD + " points<br>Multiply Base Point Gain by " + B1_Pow
		document.getElementById("pPS").innerHTML = "(+" + pPSD + ")"
	}
}
			
function B2() {
	if (points > (B2_Cost - 1)) {
		B2_TimesBought += 1;
		points -= B2_Cost;

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}

		B1_Cost = 5 + Math.pow(B1_CostScale, B1_TimesBought)/(Math.pow(2, B2_TimesBought));
		B2_Cost = Math.floor(B2_Cost*10);
		B1_CostD = Math.floor(B1_Cost);
		B2_CostD = B2_Cost;
		if (B1_Cost > 999999) {
			B1_CostD = B1_Cost.toExponential(2);
		}
		if (B2_Cost > 999999) {
			B2_CostD = B2_Cost.toExponential(2);
		}
		document.getElementById("B1").innerHTML = "<b>Buyable 1;1</b><br> Cost: " + B1_CostD + " points<br>Multiply Base Point Gain by " + B1_Pow
		document.getElementById("B2").innerHTML = "<b>Buyable 1;2</b><br> Cost: " + B2_CostD + " points<br>Divide Buyable 1;1 cost by 2"
	}
}
			
function B3() {
	if (points > (B3_Cost - 1)) {
		points -= B3_Cost

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}
		
		if (B1_CostScale > 1.51) {
			B1_CostScale = (Math.floor(100 * (B1_CostScale - 0.01))) / 100;
			B1_Cost = 5 + Math.pow(B1_CostScale, B1_TimesBought)/(Math.pow(2, B2_TimesBought));
			B3_Cost = Math.floor(B3_Cost * 1.09)
			B1_CostD = Math.floor(B1_Cost);
			B3_CostD = B3_Cost;
			if (B1_Cost > 999999) {
				B1_CostD = B1_Cost.toExponential(2);
			}
			if (B3_Cost > 999999) {
				B3_CostD = B3_Cost.toExponential(2);
			}
			document.getElementById("B1").innerHTML = "<b>Buyable 1;1</b><br> Cost: " + B1_CostD + " points<br>Multiply Base Point Gain by " + B1_Pow
			document.getElementById("B3").innerHTML = "<b>Buyable 1;3</b><br> Cost: " + B3_CostD + " points<br>The Buyable 1;1 cost scaling increases slower<br>Currently: x" + B1_CostScale
		} else if (B1_CostScale = 1.51) {
			B1_CostScale = (Math.floor(100 * (B1_CostScale - 0.01))) / 100;
			B1_Cost = 5 + Math.pow(B1_CostScale, B1_TimesBought)/(Math.pow(2, B2_TimesBought));
			B1_CostD = Math.floor(B1_Cost);
			if (B1_Cost > 999999) {
				B1_CostD = B1_Cost.toExponential(2);
			}
			document.getElementById("B1").innerHTML = "<b>Buyable 1;1</b><br> Cost: " + B1_CostD + " points<br>Multiply Base Point Gain by " + B1_Pow
			document.getElementById("B3").innerHTML = "<b>Buyable 1;3</b><br> Cost: MAXED<br>The Buyable 1;1 cost scaling increases slower<br>Currently: x" + B1_CostScale
			B1_3.style = "color: lime; border-color: lime;"
			B3_Cost = MAX
		} else {}
	}
}
	
function B4() {
	if (points > (B4_Cost - 1)) {
		B4_TimesBought += 1;
		points -= B4_Cost

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}
		
		//pPS = Math.floor(Math.pow(pPS, 1.2));
		pPS = Math.floor(Math.pow(Math.pow(B1_Pow, B1_TimesBought), Math.pow(1.2, B4_TimesBought)));
		B4_Cost *= 200; 
		B4_CostD = B4_Cost;
		if (B4_Cost > 999999) {
			B4_CostD = B4_Cost.toExponential(2);
		}
		document.getElementById("B4").innerHTML = "<b>Buyable 2;1</b><br> Cost: " + B4_CostD + " points<br>Bring Point Gain to the power of 1.2"
		document.getElementById("pPS").innerHTML = "(+" + pPSD + ")"
	}
}
	
function B5() {
	if (points > (B5_Cost - 1)) {
		B5_TimesBought += 1;
		points -= B5_Cost;

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}
		
		if (B6_Cost > points+1) {
			B2_3.style = "border-color: white;"
		}
		B1_Pow = (Math.floor(100 * (B1_Pow * 1.01))) / 100;
		//pPS = Math.floor(Math.pow(B1_Pow, B1_TimesBought));
		pPS = Math.floor(Math.pow(Math.pow(B1_Pow, B1_TimesBought), Math.pow(1.2, B4_TimesBought)));
		B5_Cost *= 2
		B1_CostD = Math.floor(B1_Cost);
		B5_CostD = B5_Cost;
		if (B1_Cost > 999999) {
			B1_CostD = B1_Cost.toExponential(2);
		}
		if (B5_Cost > 999999) {
			B5_CostD = B5_Cost.toExponential(2);
		}
		document.getElementById("B5").innerHTML = "<b>Buyable 2;2</b><br> Cost: " + B5_CostD + " points<br>Buyable 1;1 is 1.01x more effective"
		document.getElementById("B1").innerHTML = "<b>Buyable 1;1</b><br> Cost: " + B1_CostD + " points<br>Multiply Base Point Gain by " + B1_Pow
		document.getElementById("pPS").innerHTML = "(+" + pPSD + ")"
	}
}

function B6() {
	if (points > (B6_Cost - 1)) {
		points -= B6_Cost;

		if (B1_Cost > points+1) {B1_1.style = "border-color: white;"}
		if (B2_Cost > points+1) {B1_2.style = "border-color: white;"}
		if (B3_Cost > points+1 && B1_CostScale > 1.5) {B1_3.style = "border-color: white;"}
		if (B4_Cost > points+1) {B2_1.style = "border-color: white;"}
		if (B5_Cost > points+1) {B2_2.style = "border-color: white;"}
		if (B6_Cost > points+1) {B2_3.style = "border-color: white;"}
		
		B6_Cost *= 2;
		B4_Cost /= 10;
		B4_CostD = B4_Cost;
		B6_CostD = B6_Cost;
		if (B4_Cost > 999999) {
			B4_CostD = B4_Cost.toExponential(2);
		}
		if (B6_Cost > 999999) {
			B6_CostD = B6_Cost.toExponential(2);
		}
		document.getElementById("B4").innerHTML = "<b>Buyable 2;1</b><br> Cost: " + B4_CostD + " points<br>Bring Point Gain to the power of 1.2"
		document.getElementById("B6").innerHTML = "<b>Buyable 2;3</b><br> Cost: " + B6_CostD + " points<br>Divide Buyable 2;1 cost by 10"
		document.getElementById("pPS").innerHTML = "(+" + pPSD + ")"
	}
}

var cooldown = 0;

function secondPassed() {
	if (cooldown > 0) {
		var minutes = Math.round((cooldown - 30)/60),
		    remainingSeconds = cooldown % 60;
		if (remainingSeconds < 10) {
			remainingSeconds = "0" + remainingSeconds; 						//check for > 0 = :05, else - 0:10
		}
		document.getElementById('dev').innerHTML = "<b>[ON COOLDOWN]<br>Dev</b><br><i>Multiply current points by ten</i><br>" + minutes + ":" + remainingSeconds;
		ten.style = "color: orange; border-color: red;"
	}
	if (cooldown == 0) {
		document.getElementById('dev').innerHTML = "Dev<br><i>Multiply current points by ten</i><br>";
		clearInterval(countdownTimer);
		ten.style = "color: violet; border-color: blueviolet;"
	} else {
	    cooldown--;
	}
}

function Dev() {
	if (cooldown == 0) {
		points *= 10;	
		cooldown = 300;
	}
	points *= 10;
}
		</script>
	</body>
</html>
